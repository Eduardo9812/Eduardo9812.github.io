<!DOCTYPE html>
<html>
<head>
    <title>Tabla Contable</title>
    <script>
        function calcularTotal() {
            var debeTotal = 0;
            var haberTotal = 0;

            // Obtener todas las filas de la tabla
            var filas = document.querySelectorAll("table tbody tr");

            // Iterar a través de las filas y calcular los totales
            filas.forEach(function (fila) {
                var debe = parseFloat(fila.querySelector(".debe").value) || 0;
                var haber = parseFloat(fila.querySelector(".haber").value) || 0;

                debeTotal += debe;
                haberTotal += haber;
            });

            // Mostrar los totales en los campos correspondientes
            document.getElementById("totalDebe").textContent = debeTotal.toFixed(2);
            document.getElementById("totalHaber").textContent = haberTotal.toFixed(2);
        }

        function agregarFila() {
            var table = document.querySelector("table tbody");
            var newRow = document.createElement("tr");

            newRow.innerHTML = `
                <td>
                    <select>
                        <option value="codigo1">Código 1</option>
                        <option value="codigo2">Código 2</option>
                        <option value="codigo3">Código 3</option>
                    </select>
                </td>
                <td>
                    <select>
                        <option value="nombre1">Nombre 1</option>
                        <option value="nombre2">Nombre 2</option>
                        <option value="nombre3">Nombre 3</option>
                    </select>
                </td>
                <td><input class="debe" type="number" oninput="calcularTotal()" /></td>
                <td><input class="haber" type="number" oninput="calcularTotal()" /></td>
            `;

            table.appendChild(newRow);
        }
    </script>
</head>
<body>
    <table border="1">
        <thead>
            <tr>
                <th>Código</th>
                <th>Nombre</th>
                <th>Debe</th>
                <th>Haber</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <select>
                        <option value="codigo1">Código 1</option>
                        <option value="codigo2">Código 2</option>
                        <option value="codigo3">Código 3</option>
                    </select>
                </td>
                <td>
                    <select>
                        <option value="nombre1">Nombre 1</option>
                        <option value="nombre2">Nombre 2</option>
                        <option value="nombre3">Nombre 3</option>
                    </select>
                </td>
                <td><input class="debe" type="number" oninput="calcularTotal()" /></td>
                <td><input class="haber" type="number" oninput="calcularTotal()" /></td>
            </tr>
        </tbody>
    </table>

    <button onclick="agregarFila()">Agregar Fila</button>

    <p>Total Debe: <span id="totalDebe">0.00</span></p>
    <p>Total Haber: <span id="totalHaber">0.00</span></p>
</body>
</html>
